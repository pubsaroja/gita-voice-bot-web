<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Bhagavad Gita Bot</title>
      <meta name="description" content="Explore Bhagavad Gita shlokas in Telugu with SGS and Sringeri styles, featuring audio recitations and meanings.">
      <meta name="keywords" content="Bhagavad Gita, SGS, Sringeri, Telugu shlokas, audio recitation, spiritual app">
      <meta name="author" content="Dr. P. Udayabhaskar">
      <meta name="robots" content="index, follow">
      <link rel="canonical" href="https://pubsaroja.github.io/bhagavad-gita-bot/">
      <style type="text/css">@font-face {font-family:Ramabhadra;font-style:normal;font-weight:400;src:url(/cf-fonts/s/ramabhadra/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Ramabhadra;font-style:normal;font-weight:400;src:url(/cf-fonts/s/ramabhadra/5.0.11/telugu/400/normal.woff2);unicode-range:U+0951-0952,U+0964-0965,U+0C00-0C7F,U+1CDA,U+200C-200D,U+25CC;font-display:swap;}</style>
      <style type="text/css">@font-face {font-family:Outfit;font-style:normal;font-weight:300;src:url(/cf-fonts/v/outfit/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Outfit;font-style:normal;font-weight:300;src:url(/cf-fonts/v/outfit/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
      <style type="text/css">@font-face {font-family:Noto Sans Telugu;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-telugu/5.0.12/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans Telugu;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-telugu/5.0.12/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans Telugu;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-telugu/5.0.12/telugu/wght/normal.woff2);unicode-range:U+0951-0952,U+0964-0965,U+0C00-0C7F,U+1CDA,U+200C-200D,U+25CC;font-display:swap;}</style>
      <style type="text/css">@font-face {font-family:Noto Sans Devanagari;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-devanagari/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans Devanagari;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-devanagari/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans Devanagari;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-devanagari/5.0.11/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}</style>
      <style type="text/css">@font-face {font-family:Noto Sans Kannada;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-kannada/5.0.12/kannada/wght/normal.woff2);unicode-range:U+0964-0965,U+0C80-0CF2,U+200C-200D,U+20B9,U+25CC;font-display:swap;}@font-face {font-family:Noto Sans Kannada;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-kannada/5.0.12/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans Kannada;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-kannada/5.0.12/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
      <style type="text/css">@font-face {font-family:Noto Sans Tamil;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-tamil/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans Tamil;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-tamil/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans Tamil;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans-tamil/5.0.11/tamil/wght/normal.woff2);unicode-range:U+0964-0965,U+0B82-0BFA,U+200C-200D,U+20B9,U+25CC;font-display:swap;}</style>
      <link rel="stylesheet" href="https://unpkg.com/intro.js/minified/introjs.min.css">
      <script src="https://unpkg.com/intro.js/minified/intro.min.js"></script>
      <style>
         :root{--bg-color:#f0f0f0;--text-color:#2c3e50;--card-bg:#ffffff;--card-border:#357EC7;--button-bg:#357EC7;--button-text:#ffffff;--button-hover-bg:#1e40af;--header-color:#2c3e50;--subheader-color:#34495e;--input-border:#ccc;--modal-bg:#ffffff;--verse-button-bg:#f9f9f9;--verse-button-hover-bg:#e0e0e0;--intro-overlay:rgba(0,0,0,0.5);--intro-button-bg:#e5e7eb;--intro-button-text:#111827;--intro-tooltip-bg:#ffffff;}
         [data-theme="dark"]{--bg-color:#1a1a1a;--text-color:#ffffff;--card-bg:#2a2a2a;--card-border:#4a90e2;--button-bg:#4a90e2;--button-text:#ffffff;--button-hover-bg:#357abd;--header-color:#ffffff;--subheader-color:#cccccc;--input-border:#444;--modal-bg:#2a2a2a;--verse-button-bg:#333;--verse-button-hover-bg:#444;--intro-overlay:rgba(0,0,0,0.7);--intro-button-bg:#444;--intro-button-text:#ffffff;--intro-tooltip-bg:#333;}
         *,*::before,*::after{box-sizing:border-box;}
         body{font-family:Outfit,sans-serif;text-align:center;padding:20px;margin:0;background-color:var(--bg-color);color:var(--text-color);overflow-x:hidden;transition:all .3s ease;}
         h1{color:var(--header-color);font-size:1.5em;}
         h2{color:var(--subheader-color);font-size:1em;margin-top:10px;}
         .theme-toggle{position:fixed;top:10px;right:10px;display:flex;gap:10px;z-index:1001;}
         .theme-toggle button{background:none;border:none;cursor:pointer;font-size:20px;color:var(--text-color);opacity:.6;transition:opacity .3s;}
         .theme-toggle button:hover,.theme-toggle button.active{opacity:1;}
         .page-frame{max-width:900px;margin:8px auto;padding:12px;border:2px solid var(--card-border);border-radius:10px;background:var(--card-bg);box-shadow:0 2px 6px rgba(0,0,0,.04);}
         @media(max-width:600px){.page-frame{margin:4px;padding:16px;border-radius:10px;border-width:4px;overflow:hidden;}}
         @media(max-width:600px){.top-buttons button{font-size:1.1em!important;}}
         .top-buttons{display:flex;justify-content:center;gap:10px;width:100%;max-width:600px;margin:0 auto;padding-left:12px;padding-right:12px;box-sizing:border-box;}
         .top-buttons button{width:150px;height:150px;border-radius:25%;border:none;background-color:var(--button-bg);color:var(--button-text);font-size:20px;cursor:pointer;transition:background .3s ease;background-repeat:no-repeat;background-position:center;background-size:cover;}
         .top-buttons button.sgs-button:hover,.top-buttons button.sgs-button:active{background-image:url('https://raw.githubusercontent.com/pubsaroja/bhagavad-gita-bot/main/sankhu.png');background-color:transparent!important;color:transparent!important;}
         .top-buttons button.sringeri-button:hover,.top-buttons button.sringeri-button:active,.top-buttons button.third-paada-button:hover,.top-buttons button.third-paada-button:active{background-image:url('https://raw.githubusercontent.com/pubsaroja/bhagavad-gita-bot/main/chakra.png');background-color:transparent!important;color:transparent!important;}
         .top-buttons button.reset,.top-buttons button.reset:hover,.top-buttons button.reset:active,.top-buttons button.reset:focus{background:var(--button-bg)!important;color:var(--button-text)!important;background-image:none!important;}
         .button-groups{display:flex;justify-content:center;gap:10px;max-width:600px;margin:0 auto;width:100%;padding-left:12px;padding-right:12px;box-sizing:border-box;}
         .button-group{display:flex;flex-direction:column;gap:10px;width:50%;}
         .button-groups button{background-color:var(--button-bg);color:var(--button-text);padding:10px 18px;border:none;border-radius:5px;cursor:pointer;font-family:'Outfit',sans-serif;font-size:1.6em;width:100%;max-width:150px;transition:background-color .3s ease;}
         .button-groups button:hover{background-color:var(--card-bg);color:transparent;}
         .dropdown-container{display:flex;flex-direction:column;gap:20px;max-width:600px;margin:0 auto;border:2px solid var(--card-border);border-radius:5px;padding:10px 12px;box-sizing:border-box;}
         .dropdown-item{display:flex;flex-direction:column;}
         .dropdown-label{margin-bottom:6px;font-weight:bold;font-size:1em;color:var(--header-color);}
         select{width:100%;padding: free8px;font-size:1em;border-radius:5px;border:1px solid var(--input-border);background-color:var(--card-bg);color:var(--text-color);}
         .shloka-text{margin-top:10px;font-size:1.5em;color:var(--text-color);white-space:pre-wrap;max-width:100%;line-height:1.5;min-height:3em;overflow-y:auto;padding:0;display:none;justify-content:center;align-items:center;text-align:center;font-family:'Noto Sans Telugu','Noto Sans Devanagari','Noto Sans Kannada','Noto Sans Tamil',sans-serif;box-sizing:border-box;}
         .shloka-text.active{display:flex;}
         .shloka-text.active.multiline{display:block;text-align:left;}
         #sgsText,#sringeriText{display:block;width:100%;white-space:pre-line!important;word-wrap:break-word;overflow-wrap:break-word;overflow-wrap:anywhere;word-break:break-word;hyphens:auto;text-align:center;margin-left:0;margin-right:0;max-width:100%;font-family:'Noto Sans Telugu','Noto Sans Devanagari','Noto Sans Kannada','Noto Sans Tamil',sans-serif;font-size:1.5em;line-height:1.5;border:none;padding:0;overflow-y:auto;overflow-x:auto;min-height:3em;box-sizing:border-box;}
         .hidden{display:none!important;}
         .shloka-text.visible{display:flex!important;flex-direction:column;align-items:center;justify-content:center;text-align:center;}
         .shloka-text.placeholder{display:flex!important;flex-direction:column;align-items:center;justify-content:center;text-align:center;}
         .shloka-text.visible.multiline{display:block!important;text-align:left;}
         .visible{display:block!important;}
         #audioPlayer{margin:10px auto;display:block;flex-shrink:0;}
         .radio-group{margin:10px 0;display:flex;justify-content:center;align-items:center;gap:10px;width:100%;max-width:600px;margin-left:auto;margin-right:auto;padding-left:12px;padding-right:12px;box-sizing:border-box;}
         .radio-group label{margin:0 10px;color:var(--text-color);}
         .textbox-container{display:flex;flex-direction:column;align-items:stretch;gap:10px;width:100%;max-width:600px;margin:12px auto 0;padding-left:12px;padding-right:12px;border:2px solid var(--card-border);border-radius:5px;box-sizing:border-box;}
         .textbox-container > div{width:100%;max-width:100%;}
         .textbox-label{font-weight:bold;margin-bottom:5px;display:none;color:var(--header-color);}
         .textbox-label.active{display:block;}
         .player-container{display:grid;grid-template-columns:repeat(3,max-content);grid-template-rows:repeat(2,auto);gap:10px 5px;justify-content:center;justify-items:center;align-items:center;max-width:600px;margin:20px auto 0;width:100%;box-sizing:border-box;border:none;border-radius:5px;padding:12px;}
         .player-container button{width:100px;height:40px;border:none;border-radius:25px;background-color:var(--button-bg);color:var(--button-text);font-family:'Outfit',sans-serif;font-size:16px;cursor:pointer;padding:0 15px;transition:background .3s ease;justify-self:center;align-self:center;}
         .player-container button:hover{background-color:var(--button-hover-bg);}
         @media(max-width:600px){
            body{padding:6px;}
            .top-buttons,.button-groups,.dropdown-container,.radio-group,.player-container,.textbox-container{width:100%;max-width:100%;margin:0 auto;padding-left:12px;padding-right:12px;box-sizing:border-box;flex-wrap:wrap;}
            .top-buttons{margin-top:6px;gap:5px;flex-direction:row;}
            .player-container{margin-top:12px;padding-left:12px;padding-right:12px;grid-template-columns:repeat(3,1fr);}
            .player-container button{width:100%;}
            .shloka-text{font-size:1.25em;padding:0;text-align:left;overflow-x:auto;}
            #sgsText,#sringeriText{font-size:1.25em;text-align:left;padding-left:0;white-space:pre-line;word-wrap:break-word;overflow-wrap:break-word;overflow-wrap:anywhere;word-break:break-word;hyphens:auto;overflow-x:auto;}
            .shloka-text.visible,.shloka-text.placeholder{justify-content:flex-start;text-align:left;}
            .button-groups{margin-top:12px;gap:5px;flex-direction:row;}
            .button-group{width:50%;gap:5px;}
            .top-buttons button{flex:1 1 calc(33.333% - 10px);max-width:none;height:auto;aspect-ratio:1/1;font-size:0.8em;}
            .button-groups button{padding:6px 12px;font-size:0.8em;max-width:100%;}
         }
      </style>
   </head>
   <body>
      <div class="theme-toggle" data-intro="Change the theme Light or Dark" data-title="Theme">
         <button id="themeLight" title="Light Theme" data-theme="light" class="active">Light</button>
         <button id="themeDark" title="Dark Theme" data-theme="dark">Dark</button>
      </div>
      <div class="page-frame">
         <h1>Srimad Bhagavad Gita</h1>
         <p>Listen, understand and memorize Bhagavad Gita shlokas</p>
         <div class="top-buttons" data-intro="Choose how you want to hear the shloka" data-title="Playback Options">
            <button class="sgs-button" onclick="sendCommand('SGSFirstPaada')" data-intro="Play only 1st Paada in SGS style" data-title="1st Paada (SGS)">1st Paada<br>Only</button>
            <button class="sringeri-button" onclick="sendCommand('SringeriPaada')" data-intro="Play 1st or 3rd Paada in Sringeri style" data-title="1st or 3rd Paada (Sringeri)">1st or 3rd Paada</button>
            <button class="third-paada-button" onclick="sendCommand('ThirdPaada')" data-intro="Play only 3rd Paada" data-title="3rd Paada Only">3rd Paada<br>Only</button>
         </div>

         <!-- CONTINUOUS RANDOM PLAY (30s & 60s) -->
         <div style="max-width:600px;margin:25px auto;padding:18px;background:var(--card-bg);border:2px solid var(--card-border);border-radius:12px;">
            <strong style="font-size:1.3em;color:var(--header-color);">Continuous Random Play</strong><br><br>
            <label style="margin:0 18px;cursor:pointer;font-size:1.1em;"><input type="radio" name="continuousGap" id="gap30" value="30"> 30-second gap</label>
            <label style="margin:0 18px;cursor:pointer;font-size:1.1em;"><input type="radio" name="continuousGap" id="gap60" value="60"> 60-second gap</label>
            <br><br>
            <button id="stopContinuousBtn" style="display:none;background:#d32f2f;color:white;padding:10px 24px;border:none;border-radius:10px;font-size:1.1em;font-weight:bold;cursor:pointer;">
               Stop Continuous Play
            </button>
            <br><br>
            <small style="color:var(--subheader-color);">Applies only to the 3 top buttons</small>
         </div>

         <audio id="audioPlayer" controls data-intro="Use these controls to play, pause, or scrub through the audio." data-title="Audio Player"></audio>
         <div class="radio-group" data-intro="Pick the chanting style for display and playback" data-title="Chanting Style">
            <label>Style:</label>
            <input type="radio" name="style" value="sgs" id="sgs" onchange="updateTextboxVisibility()">
            <label for="sgs">SGS</label>
            <input type="radio" name="style" value="sringeri" id="sringeri" checked onchange="updateTextboxVisibility()">
            <label for="sringeri">Sringeri</label>
         </div>
         <div class="player-container">
            <button onclick="sendCommand('PreviousShloka')" data-intro="Go to previous shloka" data-title="Previous">Previous</button>
            <button onclick="sendCommand('FullShloka')" data-intro="Play the full shloka" data-title="Full Shloka">Full</button>
            <button onclick="sendCommand('NextFullShloka')" data-intro="Go to next shloka" data-title="Next">Next</button>
         </div>
         <div class="textbox-container">
            <div>
               <div id="sgsLabel" class="textbox-label">SGS Style Shloka</div>
               <div id="sgsText" class="shloka-text hidden">Your Shloka will appear here.</div>
            </div>
            <div>
               <div id="sringeriLabel" class="textbox-label active">Sringeri Style Shloka</div>
               <div id="sringeriText" class="shloka-text visible">Your Shloka will appear here.</div>
            </div>
         </div>
         <div class="player-container">
            <button id="meaningsButton" onclick="handleMeanings()" data-intro="Toggle word-by-word and overall meaning" data-title="Meanings">Meanings</button>
            <button onclick="showVerseTable()" data-intro="Open chapter/verse selector" data-title="Selector">Selector</button>
            <button id="instructionsButton" onclick="toggleInstructions()" data-intro="Start a guided tour of the app" data-title="Help">Help</button>
            <button id="groupButton" onclick="window.open('https://pubsaroja.github.io/gita-voice-bot-web/GroupedShlokas.html','_blank')" data-intro="Open carefully curated grouped shlokas helpful in memorizing the shloka numbers in a new tab" data-title="Grouped Shlokas">Grouped Shlokas</button>
            <button onclick="showConfusing()" data-intro="Listen to a set of often-confused shlokas" data-title="Confusing Shlokas">Confusing Shlokas</button>
            <button id="showUvacha" onclick="showUvacha()" data-intro="Play a random 'Uvacha' shloka" data-title="Uvacha">Uvacha</button>
         </div>
         <br>
         <div class="dropdown-container">
            <div>
               <label for="chapterSelect" style="display:block;font-family:Outfit,sans-serif;font-size:1.1em;">
               Random Shloka Chapterwise:
               </label>
               <select id="chapterSelect" onchange="handleChapterSelect(this)" data-intro="Pick a chapter to play a random shloka from it" data-title="Random by Chapter">
                  <option value="" selected disabled>Select Chapter</option>
                  <option value="1">1. అర్జునవిషాదయోగః</option>
                  <option value="2">2. సాఙ్ఖ్యయోగః</option>
                  <option value="3">3. కర్మయోగః</option>
                  <option value="4">4. జ్ఞానయోగః</option>
                  <option value="5">5. కర్మసన్న్యాసయోగః</option>
                  <option value="6">6. ఆత్మసంయమయోగః</option>
                  <option value="7">7. జ్ఞానవిజ్ఞానయోగః</option>
                  <option value="8">8. అక్షరపరబ్రహ్మయోగః</option>
                  <option value="9">9. రాజవిద్యారాజగుహ్యయోగః</option>
                  <option value="10">10. విభూతియోగః</option>
                  <option value="11">11. విశ్వరూపసన్దర్శనయోగః</option>
                  <option value="12">12. భక్తియోగః</option>
                  <option value="13">13. క్షేత్రక్షేత్రజ్ఞవిభాగయోగః</option>
                  <option value="14">14. గుణత్రయవిభాగయోగః</option>
                  <option value="15">15. పురుషోత్తమప్రాప్తియోగః</option>
                  <option value="16">16. దైవాసురసమ్పద్విభాగయోగః</option>
                  <option value="17">17. శ్రద్ధాత్రయవిభాగయోగః</option>
                  <option value="18">18. మోక్షసన్న్యాసయోగః</option>
               </select>
            </div>
            <div>
               <label for="continuousPlaySelect" style="display:block;font-family:Outfit,sans-serif;font-size:1.1em;">Continuous Play:</label>
               <select id="continuousPlaySelect" onchange="handleContinuousPlay(this)" data-intro="Play an entire chapter continuously" data-title="Continuous Play">
                  <option value="" selected disabled>Select Chapter</option>
                  <option value="1">1. అర్జునవిషాదయోగః</option>
                  <option value="2">2. సాఙ్ఖ్యయోగః</option>
                  <option value="3">3. కర్మయోగః</option>
                  <option value="4">4. జ్ఞానయోగః</option>
                  <option value="5">5. కర్మసన్న్యాసయోగః</option>
                  <option value="6">6. ఆత్మసంయమయోగః</option>
                  <option value="7">7. జ్ఞానవిజ్ఞానయోగః</option>
                  <option value="8">8. అక్షరపరబ్రహ్మయోగః</option>
                  <option value="9">9. రాజవిద్యారాజగుహ్యయోగః</option>
                  <option value="10">10. విభూతియోగః</option>
                  <option value="11">11. విశ్వరూపసన్దర్శనయోగః</option>
                  <option value="12">12. భక్తియోగః</option>
                  <option value="13">13. క్షేత్రక్షేత్రజ్ఞవిభాగయోగః</option>
                  <option value="14">14. గుణత్రయవిభాగయోగః</option>
                  <option value="15">15. పురుషోత్తమప్రాప్తియోగః</option>
                  <option value="16">16. దైవాసురసమ్పద్విభాగయోగః</option>
                  <option value="17">17. శ్రద్ధాత్రయవిభాగయోగః</option>
                  <option value="18">18. మోక్షసన్న్యాసయోగః</option>
               </select>
            </div>
         </div>
      </div>

      <script>
         // Your full original script (unchanged)
         // ... [all your existing code up to the end] ...

         // ——— CONTINUOUS RANDOM PLAY + SCREEN LOCK + LANGUAGE FIX (ONLY ADDED) ———
         let lastRandomIntent = null;
         let continuousPlayEnabled = false;
         let continuousDelay = 60000;

         const audioPlayer = document.getElementById('audioPlayer');
         const stopBtn = document.getElementById('stopContinuousBtn');

         function scheduleNextRandom() {
            if (!continuousPlayEnabled) return;
            setTimeout(() => {
               if (continuousPlayEnabled && lastRandomIntent) {
                  sendCommand(lastRandomIntent);
               }
            }, continuousDelay);
         }

         if (!window.cpReady) {
            const orig = window.sendCommand;
            window.sendCommand = function(intent) {
               orig(intent);
               if (['SGSFirstPaada','SringeriPaada','ThirdPaada'].includes(intent)) {
                  const checked = document.querySelector('input[name="continuousGap"]:checked');
                  if (checked) {
                     lastRandomIntent = intent;
                     continuousPlayEnabled = true;
                     continuousDelay = checked.value == '30' ? 30000 : 60000;
                     stopBtn.style.display = 'inline-block';
                     audioPlayer.onended = scheduleNextRandom;
                  }
               }
            };
            window.cpReady = true;
         }

         document.querySelectorAll('input[name="continuousGap"]').forEach(r => {
            r.addEventListener('change', () => {
               const checked = document.querySelector('input[name="continuousGap"]:checked');
               if (checked) {
                  continuousDelay = checked.value == '30' ? 30000 : 60000;
                  stopBtn.style.display = 'inline-block';
                  if (lastRandomIntent) audioPlayer.onended = scheduleNextRandom;
               } else {
                  continuousPlayEnabled = false;
                  stopBtn.style.display = 'none';
                  audioPlayer.onended = null;
                  lastRandomIntent = null;
               }
            });
         });

         stopBtn.onclick = () => {
            document.querySelectorAll('input[name="continuousGap"]').forEach(r => r.checked = false);
            continuousPlayEnabled = false;
            stopBtn.style.display = 'none';
            audioPlayer.onended = null;
            lastRandomIntent = null;
         };

         // ——— SCREEN LOCK FIX (WORKS ON ALL PHONES) ———
         let noSleepEnabled = false;
         const silent = new Audio('data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=');
         silent.loop = true;
         silent.volume = 0;

         function enableNoSleep() {
            if (noSleepEnabled) return;
            noSleepEnabled = true;
            silent.play().catch(() => {});
            const video = document.createElement('video');
            video.src = 'data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAG1wNDJtcDQxaXMzAAACbGF2ZjU4LjI5LjEwMAA=';
            video.loop = video.muted = true;
            video.style.position = 'absolute';
            video.style.left = '-9999px';
            document.body.appendChild(video);
            video.play().catch(() => {});
         }

         document.body.addEventListener('click', enableNoSleep, {once: true});
         audioPlayer.addEventListener('play', enableNoSleep);

         // ——— LANGUAGE CHECKBOXES: 3+2 LAYOUT + NO OVERFLOW ———
         const langCSS = document.createElement('style');
         langCSS.textContent = `
            .language-group {
               display: grid;
               grid-template-columns: 1fr 1fr 1fr;
               gap: 12px;
               margin: 20px auto;
               padding: 18px 16px;
               max-width: 600px;
               background: var(--card-bg);
               border: 2px solid var(--card-border);
               border-radius: 14px;
               box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            }
            .language-group label {
               display: flex;
               align-items: center;
               justify-content: center;
               gap: 8px;
               padding: 10px 6px;
               background: rgba(0,0,0,0.04);
               border-radius: 10px;
               font-size: 0.95em;
               text-align: center;
               min-height: 48px;
            }
            .language-group input[type="checkbox"] {
               width: 20px;
               height: 20px;
               accent-color: var(--button-bg);
            }
            @media (max-width: 600px) {
               .language-group { padding: 16px 14px; gap: 10px; }
               .language-group label { font-size: 0.92em; padding: 9px 4px; }
            }
         `;
         document.head.appendChild(langCSS);
      </script>
   </body>
</html>
