<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Bhagavad Gita Bot</title>
      <meta name="description" content="Explore Bhagavad Gita shlokas in Telugu with SGS and Sringeri styles, featuring audio recitations and meanings.">
      <meta name="keywords" content="Bhagavad Gita, SGS, Sringeri, Telugu shlokas, audio recitation, spiritual app">
      <meta name="author" content="Dr. P. Udayabhaskar">
      <meta name="robots" content="index, follow">
      <link rel="canonical" href="https://pubsaroja.github.io/bhagavad-gita-bot/">
      <link href="https://fonts.googleapis.com/css2?family=Ramabhadra&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Telugu&display=swap" rel="stylesheet">
<style>
/* Global box-sizing for consistent sizing */
*, *::before, *::after {
    box-sizing: border-box;
}

body {
    font-family: Outfit, sans-serif;
    text-align: center;
    padding: 20px;
    margin: 0;
    background-color: #f0f0f0;
}

h1 {
    color: #2c3e50;
    font-size: 1.5em;
}

h2 {
    color: #34495e;
    font-size: 1em;
    margin-top: 10px;
}

/* === TOP BUTTONS CONTAINER === */
.top-buttons {
    display: flex;
    justify-content: center;
    gap: 10px;
}

/* === COMMON BUTTON STYLE === */
.top-buttons button {
    width: 150px;
    height: 150px;
    border-radius: 25%;
    border: none;
    background-color: #357EC7;
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: background 0.3s ease, color 0.3s ease; /* Added color transition */
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
}

/* === SGS Button Hover/Active === */
.top-buttons button.sgs-button:hover,
.top-buttons button.sgs-button:active,
.top-buttons button.sgs-button.clicked { /* Added .clicked for JavaScript toggle */
    background-image: url('https://raw.githubusercontent.com/pubsaroja/bhagavad-gita-bot/main/sankhu.png');
    background-color: transparent !important;
    color: transparent !important;
}

/* === Sringeri Button Hover/Active === */
.top-buttons button.sringeri-button:hover,
.top-buttons button.sringeri-button:active,
.top-buttons button.sringeri-button.clicked { /* Added .clicked for JavaScript toggle */
    background-image: url('https://raw.githubusercontent.com/pubsaroja/bhagavad-gita-bot/main/chakra.png');
    background-color: transparent !important;
    color: transparent !important;
}

/* === Reset State (after audio ends) === */
.top-buttons button.reset,
.top-buttons button.reset:hover,
.top-buttons button.reset:active,
.top-buttons button.reset:focus,
.top-buttons button.reset.clicked { /* Ensure .clicked is overridden */
    background: #357EC7 !important;
    color: white !important;
    background-image: none !important;
}

/* == BUTTON GROUPS CONTAINER == */
.button-groups {
    display: flex;
    justify-content: center;
    gap: 10px;
    max-width: 600px;
    margin: 0 auto;
    width: 100%;
    box-sizing: border-box;
}

.button-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 50%;
}

/* == OTHER BUTTONS == */
.button-groups button {
    background-color: #357EC7;
    color: white;
    padding: 10px 18px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-family: 'Outfit', sans-serif;
    font-size: 1.6em;
    width: 100%;
    max-width: 150px;
    transition: background-color 0.3s ease;
}

.button-groups button:hover {
    background-color: #ffffff;
    color: transparent; /* Consider changing to a visible color for better UX */
}

/* == SEARCH INPUT AND BUTTON == */ /* New styles for consistency */
#search-input {
    padding: 8px;
    font-size: 1em;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 100%;
    max-width: 400px;
    margin: 5px;
    font-family: 'Outfit', sans-serif;
}

#search-button {
    background-color: #357EC7;
    color: white;
    padding: 8px 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-family: 'Outfit', sans-serif;
    font-size: 1em;
    transition: background-color 0.3s ease;
}

#search-button:hover {
    background-color: #1e40af;
}

/* == DROPDOWN CONTAINER == */
.dropdown-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    max-width: 600px;
    margin: 0 auto;
    border: 2px solid #d1d1d1;
    border-radius: 5px;
    padding: 10px;
    box-sizing: border-box;
}

.dropdown-item {
    display: flex;
    flex-direction: column;
}

.dropdown-label {
    margin-bottom: 6px;
    font-weight: bold;
    font-size: 1em;
    color: #2c3e50;
}

select {
    width: 100%;
    padding: 8px;
    font-size: 1em;
    border-radius: 5px;
    border: 1px solid #ccc;
}

/* == SHLOKA TEXT == */
.shloka-text {
    margin-top: 10px;
    font-size: 1.5em;
    color: #333;
    white-space: pre-wrap;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.5;
    min-height: 3em;
    overflow-y: auto;
    padding: 10px;
    border: 2px solid #d1d1d1;
    border-radius: 5px;
    display: none;
    justify-content: center;
    align-items: center;
    text-align: center;
    font-family: 'Noto Sans Telugu', 'Outfit', sans-serif; /* Added fallback font */
}

.shloka-text.active {
    display: flex;
}

.shloka-text.active.multiline {
    display: block;
    text-align: left;
}

/* == TEXTBOX LABELS == */
.textbox-label {
    font-weight: bold;
    margin-bottom: 5px;
    display: none;
    color: #2c3e50;
    cursor: pointer;
}

.textbox-label.active {
    display: block;
    border-bottom: 2px solid #357EC7; /* Added visual feedback for active style */
}

/* == AUDIO PLAYER == */
#audioPlayer {
    margin: 10px auto;
    display: block;
    flex-shrink: 0;
}

/* == RADIO GROUP == */
.radio-group {
    margin: 10px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}

.radio-group label {
    margin: 0 10px;
}

/* == TEXTBOX CONTAINER == */
.textbox-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.textbox-container > div {
    width: 100%;
    max-width: 600px;
}

/* == MODAL == */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    max-width: 80%;
    max-height: 80%;
    overflow-y: auto;
    border: 2px solid #357EC7;
}

/* == VERSE GRID == */
.verse-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
    gap: 10px;
    padding: 10px;
}

.verse-button {
    background-color: #f9f9f9;
    border: 1px solid #357EC7;
    border-radius: 5px;
    padding: 10px;
    text-align: center;
    cursor: pointer;
    font-size: 0.9em;
}

.verse-button:hover {
    background-color: #e0e0e0;
}

.close-button {
    background-color: #ff4444;
    color: white;
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    float: right;
}

.close-button:hover {
    background-color: #cc0000;
}

.credits {
    font-size: 0.9em;
    color: #000;
    margin-top: 10px;
}

/* == PLAYER CONTAINER == */
.player-container {
    display: grid;
    grid-template-columns: repeat(3, max-content);
    grid-template-rows: repeat(2, auto);
    gap: 10px 5px;
    justify-content: center;
    justify-items: center;
    align-items: center;
    max-width: 600px;
    margin: 20px auto 0;
    width: 100%;
    box-sizing: border-box;
    border: 2px solid #ffffff;
    border-radius: 5px;
    padding: 10px;
}

.player-container button {
    width: 100px;
    height: 40px;
    border: none;
    border-radius: 25px;
    background-color: #357EC7;
    color: white;
    font-family: 'Outfit', sans-serif;
    font-size: 16px;
    cursor: pointer;
    padding: 0 15px;
    transition: background 0.3s ease;
    justify-self: center;
    align-self: center;
}

.player-container button:hover {
    background-color: #1e40af;
}

/* == RESPONSIVE MOBILE STYLES (≤600px) == */
@media (max-width: 600px) {
    .top-buttons,
    .button-groups,
    .dropdown-container {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
        padding-left: 10px;
        padding-right: 10px;
        box-sizing: border-box;
        flex-wrap: wrap;
    }

    .top-buttons {
        gap: 5px;
        flex-direction: row;
    }

    .button-groups {
        gap: 5px;
        flex-direction: row;
    }

    .button-group {
        width: 50%;
        gap: 5px;
    }

    .top-buttons button {
        width: 140px;
        height: 140px;
    }

    .button-groups button {
        padding: 6px 12px;
        font-size: 1.2em;
        max-width: 150px;
    }

    /* Adjust verse grid for smaller screens */
    .verse-grid {
        grid-template-columns: repeat(auto-fill, minmax(50px, 1fr)); /* Smaller buttons */
        gap: 5px;
    }

    .verse-button {
        font-size: 0.8em;
        padding: 8px;
    }

    #search-input {
        max-width: 100%; /* Full width on mobile */
    }
}
</style>
   </head>
   <body>
      <h1>Srimad Bhagavad Gita</h1>
      <p>Listen, understand and memorize Bhagavad Gita shlokas</p>
      <div class="top-buttons">
         <button class="sgs-button" onclick="sendCommand('SGSFirstPaada')">SGS<br>(1st Paada)</button>
         <button class="sringeri-button" onclick="sendCommand('SringeriPaada')">Sringeri<br>(1st or 3rd Paada)</button>
      </div>
      <audio id="audioPlayer" controls></audio>
      <div class="radio-group">
         <label>Style:</label>
         <input type="radio" name="style" value="sgs" id="sgs" onchange="updateTextboxVisibility()">
         <label for="sgs">SGS</label>
         <input type="radio" name="style" value="sringeri" id="sringeri" checked onchange="updateTextboxVisibility()">
         <label for="sringeri">Sringeri</label>
      </div>
      <div class="player-container">
         <button onclick="sendCommand('PreviousShloka')">Previous</button>
         <button onclick="sendCommand('FullShloka')">Full</button>
         <button onclick="sendCommand('NextFullShloka')">Next</button>
      </div>
      <div class="textbox-container">
         <div>
            <div id="sgsLabel" class="textbox-label">SGS Style Shloka</div>
            <div id="sgsText" class="shloka-text">Your Shloka will appear here.</div>
         </div>
         <div>
            <div id="sringeriLabel" class="textbox-label active">Sringeri Style Shloka</div>
            <div id="sringeriText" class="shloka-text active">Your Shloka will appear here.</div>
         </div>
      </div>
      <div class="player-container">
         <button id="meaningsButton" onclick="handleMeanings()">Meanings</button>
         <button onclick="showVerseTable()">Selector</button>
         <button id="instructionsButton" onclick="toggleInstructions()">Instructions</button>

      </div>
      <br>
      <div class="dropdown-container">
         <div>
            <label for="chapterSelect" 
               style="display:block; font-family:Outfit, sans-serif; font-size:1.1em;">
            Random Shloka Chapterwise:
            </label>
            <select id="chapterSelect" onchange="handleChapterSelect(this)">
               <option value="" selected disabled>Select Chapter</option>
               <option value="1">1. అర్జునవిషాదయోగః</option>
               <option value="2">2. సాఙ్ఖ్యయోగః</option>
               <option value="3">3. కర్మయోగః</option>
               <option value="4">4. జ్ఞానయోగః</option>
               <option value="5">5. కర్మసన్న్యాసయోగః</option>
               <option value="6">6. ఆత్మసంయమయోగః</option>
               <option value="7">7. జ్ఞానవిజ్ఞానయోగః</option>
               <option value="8">8. అక్షరపరబ్రహ్మయోగః</option>
               <option value="9">9. రాజవిద్యారాజగుహ్యయోగః</option>
               <option value="10">10. విభూతియోగః</option>
               <option value="11">11. విశ్వరూపసన్దర్శనయోగః</option>
               <option value="12">12. భక్తియోగః</option>
               <option value="13">13. క్షేత్రక్షేత్రజ్ఞవిభాగయోగః</option>
               <option value="14">14. గుణత్రయవిభాగయోగః</option>
               <option value="15">15. పురుషోత్తమప్రాప్తియోగః</option>
               <option value="16">16. దైవాసురసమ్పద్విభాగయోగః</option>
               <option value="17">17. శ్రద్ధాత్రయవిభాగయోగః</option>
               <option value="18">18. మోక్షసన్న్యాసయోగః</option>
            </select>
         </div>
         <div>
            <label for="chapterSelect" style="display:block; font-family:Outfit, sans-serif; font-size:1.1em;">Continuous Play:</label>
            <select id="continuousPlaySelect" onchange="handleContinuousPlay(this)">
               <option value="" selected disabled>Select Chapter</option>
               <option value="1">1. అర్జునవిషాదయోగః</option>
               <option value="2">2. సాఙ్ఖ్యయోగః</option>
               <option value="3">3. కర్మయోగః</option>
               <option value="4">4. జ్ఞానయోగః</option>
               <option value="5">5. కర్మసన్న్యాసయోగః</option>
               <option value="6">6. ఆత్మసంయమయోగః</option>
               <option value="7">7. జ్ఞానవిజ్ఞానయోగః</option>
               <option value="8">8. అక్షరపరబ్రహ్మయోగః</option>
               <option value="9">9. రాజవిద్యారాజగుహ్యయోగః</option>
               <option value="10">10. విభూతియోగః</option>
               <option value="11">11. విశ్వరూపసన్దర్శనయోగః</option>
               <option value="12">12. భక్తియోగః</option>
               <option value="13">13. క్షేత్రక్షేత్రజ్ఞవిభాగయోగః</option>
               <option value="14">14. గుణత్రయవిభాగయోగః</option>
               <option value="15">15. పురుషోత్తమప్రాప్తియోగః</option>
               <option value="16">16. దైవాసురసమ్పద్విభాగయోగః</option>
               <option value="17">17. శ్రద్ధాత్రయవిభాగయోగః</option>
               <option value="18">18. మోక్షసన్న్యాసయోగః</option>
            </select>
         </div>
      </div>
      </div>
          <div>
        <h3>Search for word (Telugu or English):</h3>
        <input type="text" id="search-input" placeholder="Enter word to search">
        <button id="search-button">Search</button>
    </div>
      <div class="credits">
         SGS Audio:<br>
         Pujya Sri Datta Vijayanand Teertha Swamiji<br>
         Sringeri Audio courtesy:<br>
         Smt Mathangi Kailasnath<br>
         Developed by<br>
         Dr. P. Udayabhaskar
      </div>
      <div id="verseTableModal" class="modal">
      <div class="modal-content">
         <button class="close-button" onclick="closeVerseTable()">Close</button>
         <select id="chapterTableSelect" class="chapter-select" onchange="updateVerseGrid()">
            <option value="" selected disabled>-- Select Chapter --</option>
            <option value="1">Chapter 1 (47 verses)</option>
            <option value="2">Chapter 2 (72 verses)</option>
            <option value="3">Chapter 3 (43 verses)</option>
            <option value="4">Chapter 4 (42 verses)</option>
            <option value="5">Chapter 5 (29 verses)</option>
            <option value="6">Chapter 6 (47 verses)</option>
            <option value="7">Chapter 7 (30 verses)</option>
            <option value="8">Chapter 8 (28 verses)</option>
            <option value="9">Chapter 9 (34 verses)</option>
            <option value="10">Chapter 10 (42 verses)</option>
            <option value="11">Chapter 11 (55 verses)</option>
            <option value="12">Chapter 12 (20 verses)</option>
            <option value="13">Chapter 13 (34 verses)</option>
            <option value="14">Chapter 14 (27 verses)</option>
            <option value="15">Chapter 15 (20 verses)</option>
            <option value="16">Chapter 16 (24 verses)</option>
            <option value="17">Chapter 17 (28 verses)</option>
            <option value="18">Chapter 18 (78 verses)</option>
         </select>
         <div id="verseTableContent" class="verse-grid"></div>
      </div>
<div>
    <div id="sgsLabel" class="textbox-label">SGS Style Shloka</div>
    <div id="sgsText" class="shloka-text">Your Shloka will appear here.</div>
</div>
<div>
    <div id="sringeriLabel" class="textbox-label active">Sringeri Style Shloka</div>
    <div id="sringeriText" class="shloka-text active">Your Shloka will appear here.</div>
</div>
<div>
    <h3>Search for word (Telugu or English):</h3>
    <input type="text" id="search-input" placeholder="Enter word to search">
    <button id="search-button">Search</button>
</div>
<div class="top-buttons">
    <button class="sgs-button">SGS</button>
    <button class="sringeri-button">Sringeri</button>
</div>
<audio id="audioPlayer"></audio>
<button id="instructionsButton">Instructions</button>
<button id="meaningsButton">Meanings</button>
<div id="verseTableModal">
    <select id="chapterTableSelect"></select>
    <div id="verseTableContent"></div>
</div>
   </body>
</html>
